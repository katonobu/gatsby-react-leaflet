"use strict";(self.webpackChunkgatsby_starter_hello_world=self.webpackChunkgatsby_starter_hello_world||[]).push([[678],{483:function(e,n,t){t.r(n),t.d(n,{default:function(){return _}});var r=t(294);function u(e,n){if(null==e)return{};var t,r,u=function(e,n){if(null==e)return{};var t,r,u={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(u[t]=e[t]);return u}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(u[t]=e[t])}return u}var o=t(181);function a(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,u,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(c){l=!0,u=c}finally{try{a||null==t.return||t.return()}finally{if(l)throw u}}return o}}(e,n)||(0,o.Z)(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l=(0,r.createContext)(null),c=l.Provider;function i(){var e=(0,r.useContext)(l);if(null==e)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}var f=t(678),s=["children","className","id","placeholder","style","whenCreated"];function p(){return p=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},p.apply(this,arguments)}function d(e){var n=e.children,t=e.className,o=e.id,l=e.placeholder,i=e.style,d=e.whenCreated,v=u(e,s),y=(0,r.useRef)(null),b=function(e,n){var t=a((0,r.useState)(null),2),u=t[0],o=t[1];return(0,r.useEffect)((function(){if(null!==e.current&&null===u){var t=new f.Map(e.current,n);null!=n.center&&null!=n.zoom?t.setView(n.center,n.zoom):null!=n.bounds&&t.fitBounds(n.bounds,n.boundsOptions),null!=n.whenReady&&t.whenReady(n.whenReady),o(t)}}),[e,u,n]),u}(y,v),m=(0,r.useRef)(!1);(0,r.useEffect)((function(){null!=b&&!1===m.current&&null!=d&&(m.current=!0,d(b))}),[b,d]);var O=a((0,r.useState)({className:t,id:o,style:i}),1)[0],g=(0,r.useMemo)((function(){return b?{__version:1,map:b}:null}),[b]),h=g?r.createElement(c,{value:g},n):null!=l?l:null;return r.createElement("div",p({},O,{ref:y}),h)}var v=t(935);function y(e,n){return null==n?function(n,t){return(0,r.useRef)(e(n,t))}:function(t,u){var o=(0,r.useRef)(e(t,u)),a=(0,r.useRef)(t),l=o.current.instance;return(0,r.useEffect)((function(){a.current!==t&&(n(l,t,a.current),a.current=t)}),[l,t,u]),o}}function b(e,n){var t=(0,r.useRef)(n);(0,r.useEffect)((function(){n!==t.current&&null!=e.attributionControl&&(null!=t.current&&e.attributionControl.removeAttribution(t.current),null!=n&&e.attributionControl.addAttribution(n)),t.current=n}),[e,n])}function m(e,n){var t=(0,r.useRef)();(0,r.useEffect)((function(){return null!=n&&e.instance.on(n),t.current=n,function(){null!=t.current&&e.instance.off(t.current),t.current=null}}),[e,n])}function O(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(Object(t),!0).forEach((function(n){O(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function w(e,n){var t,r=null!==(t=e.pane)&&void 0!==t?t:n.pane;return r?h(h({},e),{},{pane:r}):e}function j(e){return function(n){var t=i(),u=e(w(n,t),t);return b(t.map,n.attribution),m(u.current,n.eventHandlers),function(e,n){(0,r.useEffect)((function(){var t;return(null!==(t=n.layerContainer)&&void 0!==t?t:n.map).addLayer(e.instance),function(){var t;null==(t=n.layerContainer)||t.removeLayer(e.instance),n.map.removeLayer(e.instance)}}),[n,e])}(u.current,t),u}}var E=["url"],C=function(e){function n(n,t){var u=e(n).current.instance;return(0,r.useImperativeHandle)(t,(function(){return u})),null}return(0,r.forwardRef)(n)}(j(y((function(e,n){var t=e.url,r=u(e,E);return{instance:new f.TileLayer(t,w(r,n)),context:n}}),(function(e,n,t){var r=n.opacity,u=n.zIndex;null!=r&&r!==t.opacity&&e.setOpacity(r),null!=u&&u!==t.zIndex&&e.setZIndex(u)})))),P=["position"];function x(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function S(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?x(Object(t),!0).forEach((function(n){O(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var I=function(e,n){return function(e){function n(n,t){var u=e(n).current,o=u.instance,a=u.context;return(0,r.useImperativeHandle)(t,(function(){return o})),null==n.children?null:r.createElement(c,{value:a},n.children)}return(0,r.forwardRef)(n)}(j(y(e,n)))}((function(e,n){var t=e.position,r=u(e,P),o=new f.Marker(t,r);return{instance:o,context:S(S({},n),{},{overlayContainer:o})}}),(function(e,n,t){n.position!==t.position&&e.setLatLng(n.position),null!=n.icon&&n.icon!==t.icon&&e.setIcon(n.icon),null!=n.zIndexOffset&&n.zIndexOffset!==t.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),null!=n.opacity&&n.opacity!==t.opacity&&e.setOpacity(n.opacity),null!=e.dragging&&n.draggable!==t.draggable&&(!0===n.draggable?e.dragging.enable():e.dragging.disable())})),R=function(e,n){var t=function(e,n){return function(t,r){var u=i(),o=e(w(t,u),u);return b(u.map,t.attribution),m(o.current,t.eventHandlers),n(o.current,u,t,r),o}}(y(e),n);return function(e){function n(n,t){var u=a((0,r.useState)(!1),2),o=u[0],l=u[1],c=e(n,l).current.instance;(0,r.useImperativeHandle)(t,(function(){return c})),(0,r.useEffect)((function(){o&&c.update()}),[c,o,n.children]);var i=c._contentNode;return i?(0,v.createPortal)(n.children,i):null}return(0,r.forwardRef)(n)}(t)}((function(e,n){return{instance:new f.Popup(e,n.overlayContainer),context:n}}),(function(e,n,t,u){var o=t.onClose,a=t.onOpen,l=t.position;(0,r.useEffect)((function(){var t=e.instance;function r(e){e.popup===t&&(t.update(),u(!0),null==a||a())}function c(e){e.popup===t&&(u(!1),null==o||o())}return n.map.on({popupopen:r,popupclose:c}),null==n.overlayContainer?(null!=l&&t.setLatLng(l),t.openOn(n.map)):n.overlayContainer.bindPopup(t),function(){var e;n.map.off({popupopen:r,popupclose:c}),null==(e=n.overlayContainer)||e.unbindPopup(),n.map.removeLayer(t)}}),[e,n,u,o,a,l])})),z=[35.68,139.76],k=function(e){var n=e.map,t=(0,r.useState)(n.getCenter()),u=t[0],o=t[1],a=(0,r.useCallback)((function(){n.setView(z,13)}),[n]),l=(0,r.useCallback)((function(){o(n.getCenter())}),[n]);return(0,r.useEffect)((function(){return n.on("move",l),function(){n.off("move",l)}}),[n,l]),r.createElement("p",null,"latitude: ",u.lat.toFixed(4),", longitude: ",u.lng.toFixed(4)," ",r.createElement("button",{onClick:a},"reset"))};function L(){return r.createElement("p",null,"Loading map...."," ",r.createElement("noscript",null,"You need to enable JavaScript to see this map."))}function _(){var e=(0,r.useState)(null),n=e[0],t=e[1],u=(0,r.useMemo)((function(){return r.createElement(d,{center:z,zoom:13,scrollWheelZoom:!0,whenCreated:t,placeholder:r.createElement(L,null),style:{width:"90vw",height:"90vh",margin:"10px"}},r.createElement(C,{attribution:'© <a href="https://maps.gsi.go.jp/development/ichiran.html">国土地理院</a>',url:"https://cyberjapandata.gsi.go.jp/xyz/std/{z}/{x}/{y}.png"}),r.createElement(I,{position:z},r.createElement(R,null,"A pretty CSS3 popup. ",r.createElement("br",null)," Easily customizable.")))}),[]);return r.createElement("div",null,n?r.createElement(k,{map:n}):null,u)}}}]);
//# sourceMappingURL=component---src-pages-index-js-bdbdfb311f5095cba88c.js.map